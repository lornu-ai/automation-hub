name = "automation-hub"

account_id = "1d361f061ebf3d1a293900bdb815db26"
workers_dev = false
main = "src/worker.ts"
compatibility_date = "2026-01-08"

routes = [
	{ pattern = "automation-hub.dockworker.ai", custom_domain = true }
]

[vars]
AI_AGENT_ENDPOINT = "https://reviewer.lornu.ai/review"
ACCESS_POLICY_ID = "ad4a5ec5-0346-4677-8023-f29ef33add08"
GITHUB_APP_ID = "2628867"

[observability]
enabled = false

[build]
command = "bun run build"

# Issue #565: Private RAG Grounding via R2 + Vectorize
# R2 bucket for storing proprietary documents
[[r2_buckets]]
binding = "PRIVATE_RAG_BUCKET"
bucket_name = "lornu-private-rag-prod"
preview_bucket_name = "lornu-private-rag-dev"

# Vectorize index for semantic search
[[vectorize]]
binding = "LORNU_VECTORIZE"
index_name = "lornu-private-knowledge"

# Cloudflare AI for embedding generation
[ai]
binding = "AI"
